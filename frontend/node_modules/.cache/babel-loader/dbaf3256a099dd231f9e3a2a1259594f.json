{"ast":null,"code":"import _classCallCheck from \"/Users/melinagarza/chatbot/django-chatbot/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melinagarza/chatbot/django-chatbot/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melinagarza/chatbot/django-chatbot/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melinagarza/chatbot/django-chatbot/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melinagarza/chatbot/django-chatbot/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/melinagarza/chatbot/django-chatbot/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/melinagarza/chatbot/django-chatbot/frontend/src/components/patient/PostRequest.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { flushSync } from 'react-dom';\nvar axiosConfig = {\n  headers: {\n    'Content-Type': 'application/json',\n    \"Vary\": \"Accept\"\n  }\n};\n//get user input from the chatbot interaction\nvar PostRequest = /*#__PURE__*/function (_Component) {\n  _inherits(PostRequest, _Component);\n  function PostRequest(props) {\n    var _this;\n    _classCallCheck(this, PostRequest);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PostRequest).call(this, props));\n    _this.createReceipt = function () {\n      setTimeout(function () {\n        console.log(_this.state.record);\n      }, 0);\n    };\n    _this.createReceiptBody = function () {\n      var item = _this.state.record;\n\n      //const obj = JSON.parse(this.state.record);\n      console.log(_this.state.record);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"receipt\",\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }\n      }, \"Record ID: \", item.id), /*#__PURE__*/React.createElement(\"li\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }\n      }, \"Patient ID: \", item.patient_id), /*#__PURE__*/React.createElement(\"li\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }\n      }, \"Name: \", item.patient_name), /*#__PURE__*/React.createElement(\"li\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, \"Email: \", item.email), /*#__PURE__*/React.createElement(\"li\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }\n      }, \"Phone Number: \", item.phone_num), /*#__PURE__*/React.createElement(\"li\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }\n      }, \"Symptoms: \", item.symptoms), /*#__PURE__*/React.createElement(\"li\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }, \"Diagnosis: N/A\"));\n    };\n    var steps = _this.props.steps;\n    var patientname = steps.patientname,\n      patientemail = steps.patientemail,\n      patientphone = steps.patientphone,\n      symptoms = steps.symptoms;\n    _this.state = {\n      patientname: patientname,\n      patientemail: patientemail,\n      patientphone: patientphone,\n      symptoms: symptoms,\n      record: []\n    };\n    return _this;\n  }\n  _createClass(PostRequest, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var patientRequest = {\n        patient_name: this.state.patientname.value,\n        email: this.state.patientemail.value,\n        phone_num: this.state.patientphone.value,\n        symptoms: this.state.symptoms.value\n      };\n      //send the HTTP POST, update the database\n      axios.post('/api/chats/', patientRequest, axiosConfig).then(function (res) {\n        return flushSync(function () {\n          _this2.setState({\n            record: res.data\n          }, _this2.createReceipt());\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }\n      }, \"Thank you for submitting a request. Below is your receipt\", this.createReceiptBody());\n    }\n  }]);\n  return PostRequest;\n}(Component);\n;\nexport default PostRequest;","map":{"version":3,"names":["axios","React","Component","flushSync","axiosConfig","headers","PostRequest","props","createReceipt","setTimeout","console","log","state","record","createReceiptBody","item","id","patient_id","patient_name","email","phone_num","symptoms","steps","patientname","patientemail","patientphone","patientRequest","value","post","then","res","setState","data"],"sources":["/Users/melinagarza/chatbot/django-chatbot/frontend/src/components/patient/PostRequest.js"],"sourcesContent":["import axios from 'axios';\nimport React, { Component } from 'react';\nimport { flushSync } from 'react-dom';\n\n\nlet axiosConfig = {\n    headers: {\n        'Content-Type': 'application/json',\n        \"Vary\": \"Accept\",\n    }\n  };\n//get user input from the chatbot interaction\nclass PostRequest extends Component{\n    constructor(props){\n        super(props);\n        const {steps} = this.props;\n        const { patientname, patientemail,patientphone, symptoms} = steps;\n        this.state = { \n            patientname,\n             patientemail,\n            patientphone,\n             symptoms, \n             record: []\n            };\n\n    }\n\n\ncomponentDidMount(){\n    const patientRequest = {\n        patient_name: this.state.patientname.value,\n        email: this.state.patientemail.value,\n        phone_num: this.state.patientphone.value,\n        symptoms: this.state.symptoms.value\n\n    };\n    //send the HTTP POST, update the database\n    axios.post('/api/chats/',patientRequest,axiosConfig)\n    .then((res) => flushSync(() =>{\n        this.setState({record: res.data}, this.createReceipt());\n    }));\n   \n\n\n}\ncreateReceipt=()=>{\n    setTimeout(() => {\n        console.log(this.state.record);\n      }, 0);\n   \n}\n\ncreateReceiptBody = () =>{\n    const item = this.state.record;\n    \n    //const obj = JSON.parse(this.state.record);\n    console.log( this.state.record)\n    \n   return (\n                <div className=\"receipt\">\n                <li>Record ID: {item.id}</li>\n                <li>Patient ID: {item.patient_id}</li>\n                <li>Name: {item.patient_name}</li>\n                <li>Email: {item.email}</li>\n                <li>Phone Number: {item.phone_num}</li> \n                <li>Symptoms: {item.symptoms}</li>\n                <li>Diagnosis: N/A</li>\n                </div>\n                \n    );\n};\n\nrender(){\n    return(\n        <div>Thank you for submitting a request. Below is your receipt\n                {this.createReceiptBody()}\n                  \n\n        </div>\n  \n    )\n    }\n};\nexport default PostRequest;"],"mappings":"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"},"metadata":{},"sourceType":"module"}