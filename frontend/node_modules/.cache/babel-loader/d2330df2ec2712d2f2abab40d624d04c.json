{"ast":null,"code":"import _classCallCheck from \"/Users/melinagarza/chatbot/django-chatbot/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/melinagarza/chatbot/django-chatbot/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/melinagarza/chatbot/django-chatbot/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/melinagarza/chatbot/django-chatbot/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/melinagarza/chatbot/django-chatbot/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/melinagarza/chatbot/django-chatbot/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/melinagarza/chatbot/django-chatbot/frontend/src/components/doctor/UpdateRecord.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { flushSync } from 'react-dom';\nvar UpdateRecord = /*#__PURE__*/function (_Component) {\n  _inherits(UpdateRecord, _Component);\n  function UpdateRecord(props) {\n    var _this;\n    _classCallCheck(this, UpdateRecord);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateRecord).call(this, props));\n    _this.retrieveRecord = function () {\n      //const id = window.location.href.split('/')[1]\n      axios.get(\"/api/chats/\" + _this.state.id).then(function (res) {\n        return _this.setState({\n          record: res.data\n        });\n      });\n    };\n    _this.updateRecord = function (event) {\n      event.preventDefault();\n      _this.state.record.diagnosis = event.target[5].value;\n      axios.put(\"/api/chats/\" + _this.state.id + '/', _this.state.record).then(function (res) {\n        return flushSync(function () {\n          _this.setState({\n            updatestautus: res.status,\n            isSubmitted: true\n          }, _this.isSuccessful());\n        });\n      });\n    };\n    _this.isSuccessful = function () {\n      setTimeout(function () {\n        console.log(_this.state.updatestautus);\n      }, 0);\n      if (_this.state.updatestautus != '200') {\n        flushSync(function () {\n          _this.setState({\n            isSubmitted: false\n          });\n        });\n      }\n      ;\n    };\n    _this.displayRecord = function () {\n      var item = _this.state.record;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: _this.updateRecord,\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }\n      }, \"Record \", item.id), \"Patient ID: \", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"textarea\",\n        id: \"patientid\",\n        name: \"patientid\",\n        value: item.patient_id,\n        readOnly: true,\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 22\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 119\n        }\n      }), \"Patient Name: \", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"patientname\",\n        name: \"patientname\",\n        value: item.patient_name,\n        readOnly: true,\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 24\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 122\n        }\n      }), \"Email: \", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"email\",\n        name: \"email\",\n        value: item.email,\n        readOnly: true,\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 96\n        }\n      }), \"Phone #: \", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"phone\",\n        name: \"phone\",\n        value: item.phone_num,\n        readOnly: true,\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 102\n        }\n      }), \"Symptoms: \", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"symptoms\",\n        name: \"symptoms\",\n        value: item.symptoms,\n        readOnly: true,\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 20\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 108\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 117\n        }\n      }), \"Diagnosis: \", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"diagnosis\",\n        name: \"diagnosis\",\n        defaultValue: item.diagnosis,\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }\n      }), \"**\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 113\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 122\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, \"Submit\"));\n    };\n    _this.state = {\n      record: [],\n      id: window.location.pathname.split('/')[2],\n      updatestautus: \"\",\n      isSubmitted: false\n    };\n    _this.updateRecord = _this.updateRecord.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  _createClass(UpdateRecord, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      //get the record\n      this.retrieveRecord();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"update\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }, \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      }, \"Update Record\"), this.displayRecord(), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 35\n        }\n      }), this.state.isSubmitted == true && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"success-bubble\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      }, \"Successful Submission!!\"), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\");\n    }\n  }]);\n  return UpdateRecord;\n}(Component);\n;\nexport default UpdateRecord;","map":{"version":3,"names":["axios","React","Component","flushSync","UpdateRecord","props","retrieveRecord","get","state","id","then","res","setState","record","data","updateRecord","event","preventDefault","diagnosis","target","value","put","updatestautus","status","isSubmitted","isSuccessful","setTimeout","console","log","displayRecord","item","patient_id","patient_name","email","phone_num","symptoms","window","location","pathname","split","bind"],"sources":["/Users/melinagarza/chatbot/django-chatbot/frontend/src/components/doctor/UpdateRecord.js"],"sourcesContent":["\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { flushSync } from 'react-dom';\n\n\n  class UpdateRecord extends Component {\n    \n   \n        constructor(props){ \n            super(props);\n            this.state = {\n                record: [],\n                id: window.location.pathname.split('/')[2],\n                updatestautus: \"\",\n                isSubmitted : false,\n\n            };\n            this.updateRecord = this.updateRecord.bind(this);\n        \n           \n        }\n        \n    \n\n        componentDidMount(){\n           \n            //get the record\n            this.retrieveRecord();\n            \n        }\n    \n    retrieveRecord = () => {\n        //const id = window.location.href.split('/')[1]\n        axios.get(\"/api/chats/\"+this.state.id)\n       .then((res) => this.setState({record: res.data }));\n        \n    };\n\n    updateRecord = (event) => {\n        event.preventDefault();\n        \n        this.state.record.diagnosis =  event.target[5].value;\n       axios.put(\"/api/chats/\"+this.state.id+'/',this.state.record)\n        .then((res) => flushSync(() =>{\n            this.setState({updatestautus: res.status, isSubmitted:true },this.isSuccessful());\n        }));\n        \n\n\n    };\n\n    isSuccessful = () => {\n      \n        setTimeout(() => {\n            console.log(this.state.updatestautus);\n          }, 0);\n       \n        \n        if(this.state.updatestautus!='200'){\n            flushSync (()=>{\n                this.setState({isSubmitted: false})\n        });\n    };\n    };\n   \n\n    displayRecord = () => {\n        const item = this.state.record;\n\n        return  (\n          \n        <form onSubmit={this.updateRecord}>\n            \n        <h5>Record {item.id}</h5> \n     \n         Patient ID: <input type=\"textarea\" id=\"patientid\" name=\"patientid\" value={item.patient_id}  readOnly></input><br></br>\n         Patient Name: <input type=\"text\" id=\"patientname\" name=\"patientname\" value={item.patient_name} readOnly></input><br></br>\n         Email: <input type=\"text\" id=\"email\" name=\"email\" value={item.email} readOnly></input><br></br>\n         Phone #: <input type=\"text\" id=\"phone\" name=\"phone\" value={item.phone_num} readOnly></input><br></br>\n         Symptoms: <input type=\"text\" id=\"symptoms\" name=\"symptoms\" value={item.symptoms} readOnly></input><br></br><br></br>\n         Diagnosis: <input type=\"text\" id=\"diagnosis\" name=\"diagnosis\" defaultValue={item.diagnosis} ></input>**<br></br><br></br>\n        <button type=\"submit\">Submit</button>\n        </form>\n\n       \n         );\n    };\n\n  \n\n\n    render(){\n        \n        return(\n        <div className=\"update\">\n            <h1>Update Record</h1>\n            {this.displayRecord()}<br></br>\n            {this.state.isSubmitted == true &&\n        <div className=\"success-bubble\">\n          Successful Submission!!\n        </div>\n      }\n           \n        </div>\n    );\n    }\n};\n\nexport default UpdateRecord;"],"mappings":"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"},"metadata":{},"sourceType":"module"}